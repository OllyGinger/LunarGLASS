
***Unsupported functionality: array or struct constant
compiling structDeref.frag...
uniform sampler2D sampler ; 
varying vec2 coord ; 
struct s1 { int i ; float f ; } ; 
struct s2 { int i ; float f ; s1 s1_1 ; } ; 
struct s3 { s2 s2_1 ; int i ; float f ; s1 s1_1 ; } ; 
uniform s1 foo ; 
uniform s2 foo2 ; 
uniform s3 foo3 ; 
void  main (){
s2 locals2 ; if ( foo3 . s2_1 . i > 0 ) {
locals2 . f = 1.000000 ; locals2 . s1_1 = s1 ( 0 , 0.000000 ) ; }
else {
locals2 . f = coord . x ; locals2 . s1_1 = s1 ( 1 , coord . y ) ; }
gl_FragColor = locals2 . s1_1 . f * texture2D ( sampler , coord ) ; }



(
(declare (uniform ) s3 foo3)
(declare (uniform ) s2 foo2)
(declare (uniform ) s1 foo)
(declare (in ) vec2 coord)
(declare (uniform ) sampler2D sampler)
(declare (in ) vec4 gl_FragCoord)
(declare (in ) bool gl_FrontFacing)
(declare (out ) vec4 gl_FragColor)
(declare (out ) float gl_FragDepth)
(declare (in ) vec4 gl_Color)
(declare (in ) vec4 gl_SecondaryColor)
(declare (in ) float gl_FogFragCoord)
(declare (uniform ) mat4 gl_ModelViewMatrix)
(declare (uniform ) mat4 gl_ProjectionMatrix)
(declare (uniform ) mat4 gl_ModelViewProjectionMatrix)
(declare (uniform ) mat3 gl_NormalMatrix)
(declare (uniform ) mat4 gl_ModelViewMatrixInverse)
(declare (uniform ) mat4 gl_ProjectionMatrixInverse)
(declare (uniform ) mat4 gl_ModelViewProjectionMatrixInverse)
(declare (uniform ) mat4 gl_ModelViewMatrixTranspose)
(declare (uniform ) mat4 gl_ProjectionMatrixTranspose)
(declare (uniform ) mat4 gl_ModelViewProjectionMatrixTranspose)
(declare (uniform ) mat4 gl_ModelViewMatrixInverseTranspose)
(declare (uniform ) mat4 gl_ProjectionMatrixInverseTranspose)
(declare (uniform ) mat4 gl_ModelViewProjectionMatrixInverseTranspose)
(declare (uniform ) float gl_NormalScale)
(declare (uniform ) gl_LightModelParameters gl_LightModel)
(declare () int gl_MaxLights)
(declare () int gl_MaxClipPlanes)
(declare () int gl_MaxTextureUnits)
(declare () int gl_MaxTextureCoords)
(declare () int gl_MaxVertexAttribs)
(declare () int gl_MaxVertexUniformComponents)
(declare () int gl_MaxVaryingFloats)
(declare () int gl_MaxVertexTextureImageUnits)
(declare () int gl_MaxCombinedTextureImageUnits)
(declare () int gl_MaxTextureImageUnits)
(declare () int gl_MaxFragmentUniformComponents)
(declare (uniform ) (array mat4 4) gl_TextureMatrix)
(declare (uniform ) (array mat4 4) gl_TextureMatrixInverse)
(declare (uniform ) (array mat4 4) gl_TextureMatrixTranspose)
(declare (uniform ) (array mat4 4) gl_TextureMatrixInverseTranspose)
(declare (uniform ) gl_DepthRangeParameters gl_DepthRange)
(declare (uniform ) (array vec4 8) gl_ClipPlane)
(declare (uniform ) gl_PointParameters gl_Point)
(declare (uniform ) gl_MaterialParameters gl_FrontMaterial)
(declare (uniform ) gl_MaterialParameters gl_BackMaterial)
(declare (uniform ) (array gl_LightSourceParameters 8) gl_LightSource)
(declare (uniform ) gl_LightModelProducts gl_FrontLightModelProduct)
(declare (uniform ) gl_LightModelProducts gl_BackLightModelProduct)
(declare (uniform ) (array gl_LightProducts 8) gl_FrontLightProduct)
(declare (uniform ) (array gl_LightProducts 8) gl_BackLightProduct)
(declare (uniform ) (array vec4 2) gl_TextureEnvColor)
(declare (uniform ) (array vec4 4) gl_EyePlaneS)
(declare (uniform ) (array vec4 4) gl_EyePlaneT)
(declare (uniform ) (array vec4 4) gl_EyePlaneR)
(declare (uniform ) (array vec4 4) gl_EyePlaneQ)
(declare (uniform ) (array vec4 4) gl_ObjectPlaneS)
(declare (uniform ) (array vec4 4) gl_ObjectPlaneT)
(declare (uniform ) (array vec4 4) gl_ObjectPlaneR)
(declare (uniform ) (array vec4 4) gl_ObjectPlaneQ)
(declare (uniform ) gl_FogParameters gl_Fog)
(declare (in ) (array vec4 0) gl_TexCoord)
(declare () int gl_MaxDrawBuffers)
(declare (out ) (array vec4 2) gl_FragData)
(declare (in ) vec2 gl_PointCoord)
(declare (in ) (array float 8) gl_ClipDistance)
(function main
  (signature void
    (parameters
    )
    (
      (declare () s2 locals2)
      (if (expression bool > (record_ref (record_ref (var_ref foo3)  s2_1)  i) (constant int (0)) ) (
        (assign (constant bool (1)) (x) (record_ref (var_ref locals2)  f)  (constant float (1.000000)) ) 
        (assign (constant bool (1)) () (record_ref (var_ref locals2)  s1_1)  (constant s1 ((i (constant int (0)) )(i (constant float (0.000000)) ))) ) 
      )
      (
        (assign (constant bool (1)) (x) (record_ref (var_ref locals2)  f)  (swiz x (var_ref coord) )) 
        (declare (temporary ) s1 record_ctor)
        (assign (constant bool (1)) (x) (record_ref (var_ref record_ctor)  i)  (constant int (1)) ) 
        (assign (constant bool (1)) (x) (record_ref (var_ref record_ctor)  f)  (swiz y (var_ref coord) )) 
        (assign (constant bool (1)) () (record_ref (var_ref locals2)  s1_1)  (var_ref record_ctor) ) 
      ))

      (declare (temporary ) vec4 texture2D_retval)
      (assign (constant bool (1)) (xyzw) (var_ref texture2D_retval)  (call texture2D ((var_ref sampler) (var_ref coord) ))
) 
      (assign (constant bool (1)) (xyzw) (var_ref gl_FragColor)  (expression vec4 * (record_ref (record_ref (var_ref locals2)  s1_1)  f) (var_ref texture2D_retval) ) ) 
    ))

)


)